
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>HW #12, Data Science at Lehman College, CUNY, Spring 2016</title>
    <link type="text/css" rel="stylesheet" href="../../lehman.css" />
    </head>
<body style = "background-color: #EEF1D4;" link = "#0B220B" vlink= "#1F5D1F">


<div>

<img align="right" src="wordle7.jpg" height="150px">
<h1>Homework #12</h1>
<h2>CMP 464-C401/MAT 456-01: <br>Topics Course: Data Science<br>
Spring 2016
</h2>
</div>

<div>
<b>Topics:</b> Multidimensional Scaling & Regression<br>
<b>Deadline:</b>  Thursday, 5 May 2016, 10:30am 
</div>

<div>
<h3>Textbook's Code</h3>


<p>The computer science assignment uses the Logistic Regression code developed by the textbook's author and available at:
<blockquote>
	<a href="https://github.com/joelgrus/data-science-from-scratch/blob/master/code/logistic_regression.py">https://github.com/joelgrus/data-science-from-scratch/blob/master/code/logistic_regression.py</a>
</blockquote>

</div>

<div>
<h3>Data</h3>

<p>For this assignment, you will need to download the following data sets:
<ol>
	<li> <b>Reported Potholes in NYC</b>:  Through the NYC Open Data project, a summary of 311 calls are available:
	<blockquote>
	<a href="https://data.cityofnewyork.us/Social-Services/311-Service-Requests-from-2010-to-Present/erm2-nwe9">https://data.cityofnewyork.us/Social-Services/311-Service-Requests-from-2010-to-Present/erm2-nwe9</a>
	</blockquote>
	
	For this assignment, we will focus on calls that reported potholes from January until April.  You can use the filtering options on the website
	(filter for Descriptor = "Pothole"), use Excel, or write a quick Python script to trim the data set to just be potholes reported from January 1
	2016 onward.  
	<li> <b>Unemployment Data</b>:  Bokeh has a demonstration dataset of unemployment data:
	<blockquote>
	<a href="https://github.com/bokeh/bokeh/blob/master/bokeh/sampledata/unemployment1948.csv">https://github.com/bokeh/bokeh/blob/master/bokeh/sampledata/unemployment1948.csv</a>
	</blockquote>
</ol>

<p>
We will use these data sets for later homework assignments.  Since scraping the data takes time, save these data sets to use again for the future programs.
</div>



<div>
<h3>Assignment</h3>

<p> 
The work to be submitted differs by whether you are enrolled in the computer science or mathematics course.  
</p>

<table border=1>

<tr>
<th></th>
<th>CMP 464 Homework:</th>
<th>MAT 456 Homework:</th>
</tr>



<tr>
<th>#1-3</th>
<td colspan=2>
The file <a href="landmarkDistances.txt">landmarkDistances.txt</a> contains a distance matrix for 10 landmarks in New York City.  
The file <a href="landmarks.txt">landmarks.txt</a> contains the names of 9 of the landmarks.  The last name is "mystery".  Use multidimensional scaling to display all 10 points on the screen with landmarks labeled.  Using your displayed information, identify the last mystery landmark.<br>
(Based on the inspired <a href="http://cseweb.ucsd.edu/~dasgupta/250B/hw7.pdf">homework</a> from dasGupta's machine learning course at UCSD.)
<br>
<br>
		
Make sure to include in the title of your plot the date plotted. <br><br>
#1:  Submit your Python program as a <b>.py</b> file.<br>
#2:  Submit a screen shot of the graphics window containing the plot.<br> 
#3:  Does the plot look right?  If not, how can you re-orient so that it does?
What is the mystery landmark?  Include your answer in a <b>.txt</b> or a scan of a neatly handwritten paper.
</td>
</tr>

<tr>
<th>#4-5</th>
<td colspan = 2>
Using the 311 Pothole data (described above), use logistic regression analysis of time versus status:  "Closed" versus "Open" (any non-"Closed" values of the status include in the "Open" category) to create a model that predicts if a pothole has been repaired, given the date reported.  

<p>
You may want to use the textbook's code (described above)-- if you do, modify to take only 1 input parameter (instead of the 2 it currently takes).  This is a very small change (just change the starting <tt>beta_0</tt> to match the dimension of the data and be [1,1].)
<br>
<br>
#4:  Submit your Python program as a <b>.py</b> file.<br>
#5:  Submit a screen shot of the graphics window containing a plot of the data points (a scatterplot of (date,status) where status is 0 if closed and 1 otherwise) with the logistic curve that you fit to the data.
</td>
</tr>

<th>#6-7</th>
<td>
Using bokeh, display the unemployment data (described above) as a scatter plot of the data with a 6-month running average.

<p>Note:  The bokeh part is straightforward (very similar to the 
<a href="http://bokeh.pydata.org/en/latest/docs/user_guide/quickstart.html#sample-data">stock example</a>-- you need to modify the <tt>#prepare some data</tt> section (as well as titles and labels)).  The work here is setting up your data to be plotted.  The dates need to be <tt>datetime</tt> objects for the stretching and scaling of the x-axis to work.  
	
<br><br>	
Make sure to include a title in your plot. <br><br>
#6:  Submit your Python program as a <b>.py</b> file.<br>
#7:  Submit a screen shot of your program as an <b>.png</b> or 
<b>.jpg</b> file. (This homework originally asked for the <b>.html</b>
file, but Blackboard is stripping the HTML formatting out of submitted files.)
</td>
<td>
Given the data:  
<p>
<table border=1>
<tr>
	<th>x</th>
	<td>0</td>
	<td>1</td>
	<td>2</td>
	<td>4</td>
	<td>5</td>
	<td>7</td>
	<td>8</td>
	<td>9</td>
	<td>12</td>
	<td>15</td>
</tr>
<tr>
	<th>y</th>
	<td>0</td>
	<td>0</td>
	<td>0</td>
	<td>1</td>
	<td>1</td>
	<td>0</td>
	<td>1</td>
	<td>0</td>
	<td>1</td>
	<td>1</td>
</tr>
</table>
<p>
and two possible logistic functions:
<ul>
	<li> f(x) = 1/(1 +e^{-(6+.75x)})
	<li> g(x) = 1/(1 +e^{-(-8+x)})
</ul>

#6:  Which function predicts more of the data correctly?  That is, out of the 10 input values, how many values were predicted to be 1 with greater than 50% probability were actually 1 (true positives), were actually 0 (false positives);
how many values were predicted to be 0 with greater than 50% probability were actually 0 (true negatives), were actually 1 (false negatives)?
<br>
<br>
Submit a typeset or neatly handwritten answer.

<br><br>
#7:  Use the book's logistic regression code to fit a logistic function to the data above.  
<br>
Note:  The book's code assumes that 3 dimensional data while we have only 2 dimensions.  The code is well-written and can be easily modified to handle only 2 dimensions by entering 2 dimensional data for <tt>data</tt> and modifying the starting value of <tt>beta_0</tt> to be the [1,1].
<br>
<br>
Submit a screenshot of a graph with the true points, your predicted curve (i.e. the logistic function with your computed <tt>beta_hat</tt>, and the f and g functions above.  Include a legend or labels for your curves.
</tr>




</table>


</div>

<div>
<h3>Submitting Homework</h3>

To submit your homework, log on to the Blackboard system, and go to "Homework".  For each part of the homework, there is a separate input box.  You may submit the homework as many times as you would like before the deadline. 
</div>