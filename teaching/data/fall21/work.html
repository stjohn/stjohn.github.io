<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <title>Coursework, CSci 39542: Data Science, Hunter College</title>
</head>
<STYLE>A {text-decoration: none;}
th, td { padding: 5px; }
code {
  background-color: #eeeeee;
}
.inline {
  padding: 1px;
}
.blockcode {
  border: 1px solid #999999;
  display: block;
  padding-left: 10px;
  padding-top : 2px;
  padding-bottom : 2px;
  margin: 5px;
}
.datablock {
  border: 1px solid #eeeeee;
  display: block;
  padding: 7px;
  padding-top : 0px;
  margin: 5px;
}
</STYLE>
<body>


<div style="margin: 15px;width=100%;">
    <span style= "float: left;font-size:larger"><a href="index.html">CSci 39542</a></span>
    <span style= "float: right">
      <a href="syl.html">Syllabus</a>&nbsp;&nbsp;&nbsp;
      <a href="resources.html">Resources</a>&nbsp;&nbsp;&nbsp;
      <a href="work.html">Coursework</a><!--&nbsp;&nbsp;&nbsp;
      <a href="faq.html">FAQ</a>-->
    </span>
</div>

<br>
<br>
<hr>

<div style="margin:50px">


<h2>Coursework
  <br>CSci 39542: Introduction to Data Science<br>
<a href="http://www.hunter.</i>cuny.edu/csci">Department of Computer Science</a><br>
<a href="https://hunter.</i>cuny.edu">Hunter College</a>, <a href="https://www.cuny.edu">City University of New York</a><br>
Fall 2021<br><br>
</h2>


<hr>
<a href="work.html#quizzes">Quizzes</a>&nbsp;&nbsp;&nbsp;
<a href="work.html#hw">Homework</a>&nbsp;&nbsp;&nbsp;
<a href="work.html#project">Project</a>&nbsp;&nbsp;&nbsp;
<hr>

<a name="quizzes">
<h2>Quizzes</h2>
</a>
Unless otherwise noted, quizzes are available on Blackboard for the 24 hours after lecture.  Blackboard quizzes are 15 minutes long and can be repeated up to the deadline.  The highest score earned on a Blackboard quiz will be reported.  Blackboard access is generated automatically from the registrar.  See the ICIT <a href="http://www.hunter.</i>cuny.edu/it/blackboard/student-documentation-and-support-for-blackboard">Blackboard</a> page for resources and tutorials for using the system.

<p> Five of the quizzes assess your programming skill using HackerRank.  These quizzes are 30 minutes long and cannot be repeated.  Invitations are sent to the email you use for Gradescope-- check your spam filter and junk mail if you do not receive your invitation before the corresponding lecture.

<p>
There are no make-up quizzes. Instead, your score on the final exam will replace missing quiz grades (the final exam will also replace a quiz grade when you take the quiz but do better on the final exam).  See the <a href="syl.html">syllabus</a> for additional information on how grades are calculated.

<p><a name="q1"><b>Quiz 1: </b> &emsp; <i>Due 4pm, Friday, 27 August.</i>
  The first quiz asks that you confirm that you have read the Hunter College's
  <a href="http://www.hunter.</i>cuny.edu/studentaffairs/student-conduct/academic-integrity/welcome-academic-integrity/?searchterm=integrity">Academic Integrity Policy</a>:
  <blockquote>
  <i>
  Hunter College regards acts of academic dishonesty (e.g., plagiarism, cheating on examinations, obtaining unfair advantage, and falsification of records and official documents) as serious offenses against the values of intellectual honesty. The College is committed to enforcing the CUNY Policy on Academic Integrity and will pursue cases of academic dishonesty according to the Hunter College Academic Integrity Procedures.</i>
  </blockquote>
</p>

<p><a name="q2"><b>Quiz 2: </b></b> &emsp; <i>Due 4pm, Tuesday, 31 August. </i>&emsp;
  The second quiz focuses on the Python Recap: basics and standard packages (pandas, numpy,  matplotlib, & seaborn) and list comprehensions from Lecture 1.</p>

<p><a name="q3"><b>Quiz 3: </b></b> &emsp; <i>Due 4pm, Friday, 3 September.</i>&emsp;
  The quiz covers data sampling from the third lecture and the reading: <a href="http://www.textbook.ds100.org/ch/02/design_intro.html">DS 100: Chapter 2</a> (Design Intro).</p>

<p><a name="q4"><b>Quiz 4: </b></b> &emsp; <i>Due 4pm, Friday, 10 September.</i>&emsp;
  The quiz covers Python string methods and Python data types from the second and third lectures and the reading: <a href="http://www.textbook.ds100.org/ch/12/text_strings.html">DS 100: Section 12.1</a> (Python String Methods)
  and <a href="http://www.textbook.ds100.org/ch/06/pandas_intro.html">DS 100: Chapter 6</a> (Data Tables in Python).
</p>

<p><a name="q5"><b>Quiz 5: </b></b> &emsp; <i>Due 4pm, Tuesday, 14 September.</i>&emsp;
  This is a <b>coding quiz on HackerRank</b> focusing on the Python constructs and package from the first two weeks. You will be sent an invitation to the email you use for Gradescope for this quiz.  You have 30 minutes to complete the quiz, and the quiz cannot be repeated.

<p><a name="q6"><b>Quiz 6: </b></b> &emsp; <i>Due 4pm, Tuesday, 21 September.</i>&emsp;
  Today's topic is regular expressions from Lecture #3 and <a href="http://www.textbook.ds100.org/ch/12/text_regex.html">DS 100: Sections 12.2-12.3</a> (Regular Expressions).</p>

<p><a name="q7"><b>Quiz 7: </b></b> &emsp; <i>Due 4pm, Friday, 24 September.</i>&emsp;
  This quiz covers SQL from Lectures #6 & #7 and <a href="http://www.textbook.ds100.org/ch/05/sql_intro.html">DS 100: Chapter 5</a> (Relational Databases & SQL).</p>

<p><a name="q8"><b>Quiz 8: </b></b> &emsp; <i>Due 4pm, Tuesday, 28 September.</i>&emsp;
  This quiz covers DataFrames from Pandas, covered in Lectures #8 & #9 and <a href="http://www.textbook.ds100.org/ch/06/pandas_intro.html">DS 100: Chapter 6</a> (Data Tables in Python).</p>

<p><a name="q9"><b>Quiz 9: </b></b> &emsp; <i>Due 4pm, Friday, 1 October.</i>&emsp;
    The focus is functions in Python, covered in the code demos in Lectures #5 and #6.</p>

<p><a name="q10"><b>Quiz 10: </b></b> &emsp; <i>Due 4pm, Tuesday, 5 October.</i>&emsp;
  This is a <b>coding quiz on HackerRank</b>. You will be sent an invitation to the email you use for Gradescope for this quiz.  You have 30 minutes to complete the quiz, and the quiz cannot be repeated.</p>

<p><a name="q11"><b>Quiz 11: </b> &emsp; <i>Due 4pm, Friday, 8 October.</i>&emsp;
  The focus in on data visualiation as discussed in Lectures #10 and #11 and <a href="http://www.textbook.ds100.org/ch/10/viz_intro.html">DS 100: Chapter 10</a> (Data Visualization).</p>

<p><a name="q12"><b>Quiz 12: </b> &emsp; <i>Due 4pm, Friday, 15 October.</i>&emsp;
  The focus of this quiz is probability and risk, covered in Lecture #12,
  <a href="https://inferentialthinking.com/chapters/09/Randomness.html">DS 8: Chapter 9</a> (Randomness), and
    <a href="http://www.textbook.ds100.org/ch/15/prob_and_gen.html">DS 100: Chapter 15</a> (Probability & Generalization).

<p><a name="q13"><b>Quiz 13: </b> &emsp; <i>Due 4pm, Tuesday, 19 October.</i>&emsp;
  The quiz covers loss functions from Lecture #10 and the reading: <a href=
  "http://www.textbook.ds100.org/ch/03/modeling_loss_functions.html">DS 100, Sections 3.2-3.4</a> (Loss Functions).</p>

<p><a name="q14"><b>Quiz 14: </b> &emsp; <i>Due 4pm, Friday, 22 October.</i>&emsp;
  The quiz covers gradient descent from Lecture #13 and the reading: <a href= "http://www.textbook.ds100.org/ch/16/gradient_descent.html">DS 100: Chapter 16</a> (Gradient Descent).

</p>
<p><a name="q15"><b>Quiz 15: </b> &emsp; <i>Due 4pm, Tuesday, 26 October.</i>&emsp;
  This is a <b>coding quiz on HackerRank</b>. You will be sent an invitation to the email you use for Gradescope for this quiz.  You have 30 minutes to complete the quiz, and the quiz cannot be repeated.
</p>

<!--
<p><a name="q16"><b>Quiz 16: </b> &emsp; <i>Due 4pm, Friday, 29 October.</i>&emsp;
</p>
<p><a name="q17"><b>Quiz 17: </b> &emsp; <i>Due 4pm, Tuesday, 2 November.</i>&emsp;
</p>
<p><a name="q18"><b>Quiz 18: </b> &emsp; <i>Due 4pm, Friday, 5 November.</i>&emsp;
</p>
<p><a name="q19"><b>Quiz 19: </b> &emsp; <i>Due 4pm, Tuesday, 9 November.</i>&emsp;
</p>
<p><a name="q20"><b>Quiz 20: </b> &emsp; <i>Due 4pm, Friday, 12 November.</i>&emsp;
    This is a <b>coding quiz on HackerRank</b>. You will be sent an invitation to the email you use for Gradescope for this quiz.  You have 30 minutes to complete the quiz, and the quiz cannot be repeated.<p>
</p>
<p><a name="q21"><b>Quiz 21: </b> &emsp; <i>Due 4pm, Tuesday, 16 November.</i>&emsp;
</p>
<p><a name="q22"><b>Quiz 22: </b> &emsp; <i>Due 4pm, Friday, 19 November.</i>&emsp;
</p>
<p><a name="q23"><b>Quiz 23: </b> &emsp; <i>Due 4pm, Tuesday, 23 October.</i>&emsp;
</p>
<p><a name="q24"><b>Quiz 24: </b> &emsp; <i>Due 4pm, Tuesday, 30 November.</i>&emsp;
</p>
<p><a name="q25"><b>Quiz 25: </b> &emsp; <i>Due 4pm, Friday, 3 December.</i>&emsp;
        This is a <b>coding quiz on HackerRank</b>. You will be sent an invitation to the email you use for Gradescope for this quiz.  You have 30 minutes to complete the quiz, and the quiz cannot be repeated.<p>
</p>
<p><a name="q26"><b>Quiz 26: </b> &emsp; <i>Due 4pm, Tuesday, 7 December.</i>&emsp;
</p>
<p><a name="q77"><b>Quiz 27: </b> &emsp; <i>Due 4pm, Friday, 9 December.</i>&emsp;
</p>
<p><a name="q28"><b>Quiz 28: </b> &emsp; <i>Due 4pm, Tuesday, 14 December.</i>&emsp;
  End of semester survey.
</p>

-->


<p>
  <i>More to come...</i>

<!--
  This quiz covers data representation from Lecture #5 and <a href=
  "http://www.textbook.ds100.org/ch/07/repr_intro.html">DS 100, Chapter 7</a> (Data Representation).</p>

-->

<hr>

<a name="hw">
<h2>Homework</h2>
</a>
Unless otherwise noted, programs are submitted on the course's gradescope site.  All students registered by Monday, 23 August will be sent a registration invitation to the email on record on their Blackboard account.  If you did not receive the email or would like to use a different account, contact us with your name (as it appears in Blackboard/CUNYFirst), your EmpID, and the preferred email, and we will manually generate an invitation.  As a default, we use your name as it appears in Blackboard/CUNYFirst (to update CUNYFirst, see <a href="https://hunter.</i>cuny.edu/students/registration/records-and-transcripts/changing-your-personal-information/">changing your personal information</a>).  If you prefer a different name for Gradescope, include it in the email and we will update the Gradescope registration.

<p>
To get full credit for a program, the file must include in the opening comment:
<ul>
    <li> Your name, as it appears in your Gradescope registration.
    <li> The email you are using for Gradescope.
    <li> A list of any resources you used for the program.  Include classmates and tutors that you worked with, along with any websites or tutorials that you used.  If you used no resources (other than the class notes and textbooks), then you should include the line:  "No resources used."
</ul>

For example, for the student, Thomas Hunter, the opening comment of his first program might be:
<pre><code class="blockcode">
"""
Name:  Thomas Hunter
Email: thomas.hunter.</i>1870@hunter.</i>cuny.edu
Resources:  Used python.org as a reminder of Python 3 print statements.
"""
</pre></code>
and then followed by his Python program.

<br>
<br>
<br>
<hr>
Set 1:  The first set of programs recaps familiar Python constructs and packages.  None are challenging, instead, their purpose is as review and to ensure your Python IDE is functional, has the basic libraries and that you can submit programs to Gradescope.
<hr>

<p><a name="p1"><b>Program 1: Hello, World.</b></b> &emsp; <i>Due noon, Friday, 27 August.</i>
  <br>(Learning Objective:  students are able to use a Python IDE on their computer and successfully submit the work to the Gradescope system.)

  <p>Submit a Python program that prints:  <code class = "inline">Hello, world!</code>
</p>

<p><a name="p2"><b>Program 2: Senators' Names.</b></b> &emsp; <i>Due noon, Monday, 30 August.</i>
  <br>(Learning Objective: students can successfully read and write CSV files and use the Pandas package to select rows, filtered by boolean expression.)

  <p>
Write a program, using the <code class = "inline">pandas</code> package, that asks the user for the name of an input CSV file and the name of an output CSV file.  The program should open the file name provided by the user.
Next, the program should select rows where the field <code class = "inline">senate_class</code> is non-empty and write the <code class = "inline">first_name</code> and <code class = "inline">last_name</code> to a file with the output file name provided by the user.

<p>For example, if the file was <a href="https://theunitedstates.io/congress-legislators/legislators-current.csv">legislators-current.csv</a> with the first 3 lines of:
<pre><code class=datablock>
last_name,first_name,middle_name,suffix,nickname,full_name,birthday,gender,type,state,district,senate_class,party,url,address,phone,contact_form,rss_url,twitter,facebook,youtube,youtube_id,bioguide_id,thomas_id,opensecrets_id,lis_id,fec_ids,cspan_id,govtrack_id,votesmart_id,ballotpedia_id,washington_post_id,icpsr_id,wikipedia_id
Brown,Sherrod,,,,Sherrod Brown,1952-11-09,M,sen,OH,,1,Democrat,https://www.brown.senate.gov,503 Hart Senate Office Building Washington DC 20510,202-224-2315,http://www.brown.senate.gov/contact/,http://www.brown.senate.gov/rss/feeds/?type=all&amp;,SenSherrodBrown,SenatorSherrodBrown,SherrodBrownOhio,UCgy8jfERh-t_ixkKKoCmglQ,B000944,00136,N00003535,S307,"H2OH13033,S6OH00163",5051,400050,27018,Sherrod Brown,,29389,Sherrod Brown
Cantwell,Maria,,,,Maria Cantwell,1958-10-13,F,sen,WA,,1,Democrat,https://www.cantwell.senate.gov,511 Hart Senate Office Building Washington DC 20510,202-224-3441,http://www.cantwell.senate.gov/public/index.cfm/email-maria,http://www.cantwell.senate.gov/public/index.cfm/rss/feed,SenatorCantwell,senatorcantwell,SenatorCantwell,UCN52UDqKgvHRk39ncySrIMw,C000127,00172,N00007836,S275,"S8WA00194,H2WA01054",26137,300018,27122,Maria Cantwell,,39310,Maria Cantwell
</code></pre>

Then a sample run of the program:

<pre><code class="blockcode">Enter input file name: legislators-current.csv
Enter output file name:  senatorNames.csv
</code></pre>

And the first three lines of <code class = "inline">senatorNames.csv</code> would be:
<pre><code class=datablock>
first_name,last_name
Sherrod,Brown
Maria,Cantwell
</code></pre>

Note:  if you use the legislators CSV file above, your output file should have 101 lines:  1 line of header information and 100 rows of data.
<br>

<p><a name="p3"><b>Program 3: Senators' Ages.</b></b> &emsp; <i>Due noon, Wednesday, 1 September.</i>
  <br>(Learning Objective: students read use Pandas to create new columns from existing columns of formatted data.)</p><p>
Write a program that asks the user for the name of an input CSV file and the name of an output CSV file.  The program should open the file name provided by the user.</i>  Next, the program should select rows where the field <code class = "inline">senate_class</code> is non-empty and write the <code class = "inline">first_name</code> and compute the <code class = "inline">age</code> based on the <code class = "inline">birthday</code> field as of the first of the year.  Your program should write out a new CSV file (with the name provided by the user) with the two columns:  <code class = "inline">first_name</code> and <code class = "inline">age</code>.

<p>For example, if the file was <a href="https://theunitedstates.io/congress-legislators/legislators-current.csv">legislators-current.csv</a> with the first 3 lines of:

<pre><code class="datablock">
last_name,first_name,middle_name,suffix,nickname,full_name,birthday,gender,type,state,district,senate_class,party,url,address,phone,contact_form,rss_url,twitter,facebook,youtube,youtube_id,bioguide_id,thomas_id,opensecrets_id,lis_id,fec_ids,cspan_id,govtrack_id,votesmart_id,ballotpedia_id,washington_post_id,icpsr_id,wikipedia_id
Brown,Sherrod,,,,Sherrod Brown,1952-11-09,M,sen,OH,,1,Democrat,https://www.brown.senate.gov,503 Hart Senate Office Building Washington DC 20510,202-224-2315,http://www.brown.senate.gov/contact/,http://www.brown.senate.gov/rss/feeds/?type=all&amp;,SenSherrodBrown,SenatorSherrodBrown,SherrodBrownOhio,UCgy8jfERh-t_ixkKKoCmglQ,B000944,00136,N00003535,S307,"H2OH13033,S6OH00163",5051,400050,27018,Sherrod Brown,,29389,Sherrod Brown
Cantwell,Maria,,,,Maria Cantwell,1958-10-13,F,sen,WA,,1,Democrat,https://www.cantwell.senate.gov,511 Hart Senate Office Building Washington DC 20510,202-224-3441,http://www.cantwell.senate.gov/public/index.cfm/email-maria,http://www.cantwell.senate.gov/public/index.cfm/rss/feed,SenatorCantwell,senatorcantwell,SenatorCantwell,UCN52UDqKgvHRk39ncySrIMw,C000127,00172,N00007836,S275,"S8WA00194,H2WA01054",26137,300018,27122,Maria Cantwell,,39310,Maria Cantwell
</code></pre>

Then a sample run of the program:
<pre><code class="blockcode">Enter input file name: legislators-current.csv
Enter output file name:  senatorAge.csv
</code></pre>

And the first three lines of <code class="inline">senatorAge.csv</code> would be:
<pre><code class="datablock">
first_name,age
Sherrod,68
Maria,62
</code></pre>
since that was their ages as of January 1, 2021.
<p>
Note:  if you use the legislators CSV file above, your output file should have 101 lines:  1 line of header information and 100 rows of data.
<br>

<p><a name="p4"><b>Program 4: ELA Proficiency.</b></b> &emsp; <i>Due noon, Thursday, 2 September.</i>
  <br>(Learning Objective: students can filter formatted data using standard Pandas operations for selecting data.)

  <p>
  Write a program that asks the user for the name of an input CSV file and the name of an output CSV file.  The program should open the file name provided by the user.
  Next, the program should select rows where the field <code class="inline">Grade</code> is equal to 3 and the <code class="inline">Year</code> is equal to 2019 and write all rows that match that criteria to a new CSV file.

  <p>
  Then a sample run of the program:
<pre><code class="blockcode">Enter input file name: school-ela-results-2013-2019.csv
Enter output file name:  ela2013.csv
</code></pre>
  where the file <code class="inline">school-ela-results-2013-2019.csv</code> is extracted from <a href="https://infohub.nyced.org/reports/academics/test-results">NYC Schools Test Results</a>). The first lines of the output file would be:

<pre><code class="datablock">
School,Name,Grade,Year,Category,Number Tested,Mean Scale Score,# Level 1,% Level 1,# Level 2,% Level 2,# Level 3,% Level 3,# Level 4,% Level 4,# Level 3+4,% Level 3+4
01M015,P.S. 015 ROBERTO CLEMENTE,3,2019,All Students,27,606,1,3.7,7,25.9,18,66.7,1,3.7,19,70.4
01M019, P.S. 019 ASHER LEVY,3,2019,All Students,24,606,0,0.0,8,33.3,15,62.5,1,4.2,16,66.7
01M020,P.S. 020 ANNA SILVER,3,2019,All Students,57,593,13,22.8,24,42.1,18,31.6,2,3.5,20,35.1
</code></pre>

<br>
<br>
<br>
<hr>
  Set 2:  The second set of programs focuses on incorporating and analyzing rectangular data, in terms of relational databases and data frames.  The goal is familiarity with these canonical representations to use as building blocks for future analysis, programs, and your project.
<hr>

<p><a name="p5"><b>Program 5: URL Collection.</b></b> &emsp; <i>Due noon, Friday, 3 September.</i>
  <br>(Learning Objective: to use regular expressions with simple patterns to filter column data in a canonical example-- scrubbing a website of URL's.)

  <p>
  Write a program that asks the user for the name of an input HTML file and the name of an output CSV file.  Your program should use regular expressions (see <a href="http://www.textbook.ds100.org/ch/12/text_re.html">Chapter 12.4</a> for using the <code class="inline">re</code> package in Python) to find all links in the input file and store the link text and URL as columns:  <code class="inline">Title</code> and <code class="inline">URL</code> in the CSV file specified by the user.  For the URL, strip off the leading <code class="inline">https://</code> or <code class="inline">http://</code> and any trailing slashes (<code class="inline">/</code>):

  <p>For example, if the input file is:

<pre><code class="datablock">
  &lt;html>
  &lt;head>&lt;title>Simple HTML File&lt;/title>&lt;/head>

  &lt;body>
    &lt;p> Here's a link for &lt;a href="http://www.hunter.</i>cuny.edu/csci">Hunter CS Department&lt;/a>
    and for &lt;a href="https://stjohn.github.io/teaching/data/fall21/index.html">CSci 39542&lt;/a>.  &lt;/p>

    &lt;p> And for &lt;a href="https://www.google.com/">google&lt;/a>
  &lt;/body>
  &lt;/html>
</code></pre>

  Then a sample run of the program:
<pre><code class="blockcode">Enter input file name: simple.html
Enter output file name:  links.csv
</code></pre>

  And the <code class="inline">links.csv</code> would be:
<pre><code class="datablock">
Title,URL
Hunter CS Department,www.hunter.</i>cuny.edu/csci
CSci 39542,stjohn.github.io/teaching/data/fall21/index.html
google,www.google.com</code></pre>
</p>
  <br>

</p>

<p><a name="p6"><b>Program 6: Regex on Restaurant Inspection Data.</b></b> &emsp; <i>Due noon, Thursday, 9 September.</i>
  <br>(Learning Objective: The two learning objectives of this exercise are a) to give the students an opportunity to practice their newfound regular expressions (regex) skills and b) familiarize them with the restaurant inspection dataset which would be used again in the latter SQL programs.)

  <p>
  Use regular expressions (covered in Lecture 3 & <a href="http://www.textbook.ds100.org/ch/12/text_regex.html">DS 100: Sections 12.2-3</a>) to clean <a href="https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j/data">restaurant inspection</a> datasets that we will use in later SQL programs.

  <!--
  <i>Add in small dataset to use for testing</i>
  Add in sample run: either as functions or as the resulting CSV.
  Process:
1. Take input csv_file_name and output_file_name,
2. run requested operations on the input data and save it into a csv file under the output_file_name,
3. save work into new csv.
  -->
  Your program should:
  <ul>
    <li> Ask the user for names of an input file and output file.  You can assume that the input file is a CSV file with column names from the <a href="https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j/data">restaurant inspection</a> datasets.  Your program should open the named CSV input file and save the results in the named output file.
    <li>With the phone column, please use regex to parse out the given 10 digit phone number XXXXXXXXXX and re-concatenate it back into a 11 digit format: 1-digit country code (as 1), 3-digit area code, and a 7-digit telephone number, so that the final output looks like: +1-XXX-XXX-XXXX.

    <li> With the inspection date column, please use regex to break out the year, month, and day component, then re concatenate the MM/DD/YYYY to YYYY/MM/DD.

    <li> With the restaurant name column DBA, please create a new column called "restaurant_name" which reformats the data in the original column from all upper case to camel case. Separately, create a new boolean column that flags True if the word Thai (not case sensitive) appears in the original restaurant name.
  </ul>
</p>

<p><a name="p7"><b>Program 7: Restaurant SQL Queries.</b></b> &emsp; <i>Due noon, Friday, 10 September.</i>
  <br>(Learning Objective: The learning objective of this exercise is to give the students an opportunity to practice their newfound SQL skills.)

  <p>
  Using SQL (see <a href="http://www.textbook.ds100.org/ch/05/sql_basics.html">DS 100: Section 5.2</a>), extract the following information from a <a href="https://data.cityofnewyork.us/Health/DOHMH-New-York-City-Restaurant-Inspection-Results/43nn-pn8j/data">restaurant inspection</a> dataset:
  <ul>
    <li> Save all rows in table where Grade = A to the output file <tt>prefix+"A.csv"</tt> where <tt>prefix</tt> holds the value specified by the user.</i> <!--(note: warm-up for SELECT * FROM TABLE WHERE..)--> </li>
    <li> Save all rows in table where Score > 90 to the output file <tt>prefix+"90.csv"</tt>.</li>
    <li> Save all rows in table where IN (10002, 10027, 10036) to the output file <tt>prefix+"ZIP.csv"</tt></li>
    <li> Save columns DBA, Cuisine Description, Boro, and Grade for all in table where Zipcode = 11103. Rename DBA AS 'restaurant_name', Cuisine Description as cuisine_description, Boro as borough. where Grade = A, Score > 90 and Zipcode IN (10002, 10027, 10036) to the output file <tt>prefix+"All.csv"</tt>.
  </ul>
Your program should ask for the input file name (must include .csv) and then for an output file prefix (must not include any extension). For example, with <tt>restaurantJuly2020.csv</tt> for the input and <tt>selected</tt> for the output prefix.  The program should create 4 files: <tt>selectedA.csv</tt>, <tt>selected90.csv</tt>, <tt>selectedZIP.csv</tt>, and <tt>selectedAll.csv</tt>.
</p>


<p><a name="p8"><b>Program 8: Aggregating Restaurant Data (SQL).</b></b> &emsp; <i>Due noon, Monday, 13 September.</i>
  <br>(Learning Objective: The learning objective of this exercise is to give the students an opportunity to practice more advanced SQL skills (e.g. GROUP BYs) on a familiar dataset.)

  <p>
  Using the more advanced SQL commands from <a href="http://www.textbook.ds100.org/ch/05/sql_basics.html">DS 100: Section 5.1</a> (e.g. <tt>GROUP BY</tt>'s), this program find distinct restaurant names and distinct cuisines by locale.
<!--
The source data from P6 Trello card here can be mostly re-used for this exercise. However, please note that the filtering down to <30 rows should not apply to the dataset for this program because that will give us too little data for aggregation purposes.

Based on the dataset above, please create the following exercises:

Return a unique column of distinct restaurants (note: return the restaurant names, not the count)
How many distinct number restaurants are on 5th Avenue? (note: return the count, not the restaurants)

Return a unique column of distinct cuisines where zipcode = 11224.

Return 2 columns. the cuisine, and the count of unique restaurants per cuisine). Where zipcode = 11224.

For each boro, return unique count of cuisines per boro; also return unique count of restaurants per boro. Return 3 columns. Sort results by boro name ASC.

Note: each of the exercises above should be returned separately. For the ones where the answer is a single value, just printing the value as output is good to go. For the ones returning data whether a single or multiple columns, this needs to be in table format (pandas dataframe -> csv).


  <ul>
    <li>Return a unique column of distinct restaurants (note: return the restaurant names, not the count)
    <li> How many distinct number restaurants are on 5th Avenue? (note: return the count, not the restaurants)

    <li> Return a unique column of distinct cuisines where zipcode = 11224.

    <li> Return 2 columns. the cuisine, and the count of unique restaurants per cuisine). Where zipcode = 11224.

    <li> For each boro, return unique count of cuisines per boro; also return unique count of restaurants per boro. Return 3 columns. Sort results by boro name ASC.
    </ul>
-->
</p>

<p><a name="p9"><b>Program 9: Joining Restaurant & NTA Data.</b></b> &emsp; <i>Due noon, Tuesday, 14 September.</i>
  <br>(Learning Objective: The exercises in this program will build up to help students conceptualize and finally create a JOIN between the health inspection table and the NTA table.  This is to reinforce the learning done in the last 2 SQL lectures.)

  <p>
<!--

Datasets:

same restaurant inspection dataset as used in P7 and P8
also import the NTA code table detailed in this card
Based on the dataset above, please create the following exercises, in this particular order:

On Health Inspection Table Alone:
- Write SQL for returning just the NTA column in the health inspection table
- Write SQL for returning the count of unique NTAs in the health inspection table
- Write SQL for returning 3 columns. the unique NTAs, and the count of restaurants under each NTA in the health inspection table. sort ASC by NTA.
On NTA Table Alone:
- Write SQL for returning the number of rows in the NTA table and the number of unique NTAs in the NTA table.
On Health + NTA Tables Both:
- Write the SQL for creating a LEFT JOIN (health LEFT JOIN NTA), return 3 columns: NTA code from health table, NTA description from NTA table, and the restaurant name from health table. join on NTA code.
- Build upon the previous exercise ^, keep the JOIN as is, do one more level of aggregation, so that the end result contains 3 columns (unique NTA code, unique NTA description, and the count distinct restaurants as grouped by the first 2 columns)
-->
</p>

<p><a name="p10"><b>Program 10: Extracting Districts.</b></b> &emsp; <i>Due noon, Monday, 20 September.</i>
  <br>(Learning Objective: successfully write and apply functions to DataFrames, as well as practice regex skills to clean data.)
  <p>
  Write a program that asks the user for the name of an input CSV file and the name of an output CSV file.  The program should open the file name provided by the user. Your program should include a function, <tt>extractDistrict()</tt> that takes a string as an input and returns the number represented by the first two characters in the string.  The program applies the function to each row that takes the first two characters of the <tt>School</tt> field, converts those into a digit, and stores the results in a new column, <tt>District</tt>.
  The results should be written to a new CSV file, name provided by the user.</i></p>

  <p> For example, if the <tt>School</tt> is <tt>"01M015"</tt>, the entry in the new column would be <tt>1</tt> (stored as a number, not a string).
</p>

<p><a name="p11"><b>Program 11: Grouping ELA/Math by Districts.</b></b> &emsp; <i>Due noon, Tuesday, 21 September.</i>
  <br>(Learning Objective: to successfully combine information from multiple input files and display the results using a pivot table.)

  <p>Your program should build on the classwork from Monday, 20 September to build a pivot table, grouped by district and test subject, of the percentage of students that are proficient in each (i.e. score 3 or 4 on the exam).  Your program should ask the user for two input CSV files and print a pivot table.
</p>

<pre>
Enter file containing ELA scores:
Enter file containing MATH scores:
                    Proficiency                      School Name
District Subject
01       ELA        91.891892  THE EAST VILLAGE COMMUNITY SCHOOL
         MATH       84.615385               P.S. 184M SHUANG WEN
02       ELA        96.825397           P.S. 77 LOWER LAB SCHOOL
         MATH       98.412698           P.S. 77 LOWER LAB SCHOOL
</pre>

<p>
<i>Fill in examples</i>
</p>

<p><a name="p12"><b>Program 12: MTA Ridership.</b></b> &emsp; <i>Due noon, Thursday, 23 September.</i>
  <br>(Learning Objective: .)

  <p>Write a program that asks the user for the name of an input CSV file and the name of an output CSV file.  The program should open the file name provided by the user, which you can assume will include the column names: <tt>date</tt>, <tt>entries</tt>, and <tt>exit</tt>.  You should create a new file that has one entry for each date that consists of the sum of all entries and the sum of all exits that occur on the date.  This aggegrate data should be stored in the output CSV and should contain only the three columns:  <tt>date</tt>, <tt>entries</tt>, and <tt>exit</tt>, even if there are additional columns in the input CSV file.</p>

<!-- URL of cleaned data:  https://qri.cloud/nyc-transit-data/turnstile_daily_counts_2020 and presented:  https://observablehq.com/@benoldenburg/nyc-transit-turnstile-data  -->

<br>
<br>
<br>
<hr>
Set 3:  The third set of programs integrates visualization techniques with analyzing structured data sets.  While the programs do not cover every visualization technique, the practice these programs provide will be directly relevant to your project.
<hr>

<p><a name="p13"><b>Program 13: Column Summaries.</b></b> &emsp; <i>Due noon, Friday, 24 September.</i>
  <br>(Learning Objective: .)

  <p>In lecture, we used the Pandas' function, <tt>rolling()</tt> to compute a 7-day average of subway ridership for the visualization of ridership in 2020.  For this program, write three functions that take as input a Pandas' series (e.g. a column of a DataFrame) that highlights different patterns in the data:</p>
  <ul>
    <li> <tt>cumulativeAverage(column)</tt>:  Assumes the input is a Series of numerical data. Returns a Series with the cumulative (running) average of the values.  For example, if the first 5 entries are <tt>10,20,30,40,20</tt>, the Series that is returned would start out as <tt>10,15,20,25,24</tt> (since 10/1 = 10, (10+20)/2 = 15, (10+20+30)/3 = 20, (10+20+30+40)/4 = 25, (10+20+30+40+20)/5 = 24).  Note that it is different that <tt>rolling()</tt> we used in class, since this function creates a value for all entries and averages across all values seen.
    <li> <tt>cyclicAverage(column)</tt>:  Assumes the input is a Series of numerical data. Returns a Series with the average of the current day with, if they exist, the value from 7 days previously and 14 days previously.  That is, if they exist, for entry at index <tt>i</tt>, take the average of the values at indices <tt>i-offset</tt>, <tt>i-2*offset</tt>, and <tt>i-3*offset</tt>, as the computation.  Since ridership is highly dependent on the day of the week, this averages the values of the same day in past weeks.
    <li> <tt>exponentialSmoothing(column)</tt>:  Assumes the input is a Series of numerical data. Returns a Series with a weighted average of the previous values with the most recent values have higher weight and the older ones have lower weights.  The value for the first entry, newCol[0] is column[0].  The value for subsequent entries is newCol[t+1] = 0.5*column[t+1] + 0.5*newCol[t].  For example, if we had the same Series starting the same as above, <tt>10,20,30,40,20</tt>, our new column would start <tt>10,15,22.5,31.25,25.625</tt>
    (since the first entry is the same, 0.5*20+0.5*10 = 15, 0.5*30+0.5*15= 22.5, 0.5*40+0.5*22.5 = 31.25, 0.5*20 + 0.5*31.25 = 25.625).
  </ul>
  Note:  you should submit a file with only the standard comments at the top, and these three functions.  The grading scripts will then import your functions for testing.
</p>

<p><a name="p14"><b>Program 14: Library Cleaning.</b></b> &emsp; <i>Due noon, Monday, 27 September.</i>
  <br>(Learning Objective: to strengthen data processing skills via regular expressions and standard string methods.)

  <p>
  Write two functions that will be used to clean the OpenData NYC dataset of <a href="https://data.cityofnewyork.us/Business/Library/p4pf-fyc4">Libraries in New York City</a> (downloaded as CSV file).  The first three lines of the CSV file look like:
  <div style="background-color:lightgray;width:100%">
  <pre>
the_geom,NAME,STREETNAME,HOUSENUM,CITY,ZIP,URL,BIN,BBL,X,Y,SYSTEM,BOROCODE
POINT (-73.95353074430393 40.80297988196676),115th Street,West 115th Street,203,New York,10026,http://www.nypl.org/locations/115th-street,1055236,1018310026,997115.12977,231827.652864,NYPL,1
POINT (-73.9348475633247 40.80301816141575),125th Street,East 125th Street,224,New York,10035,http://www.nypl.org/locations/125th-street,1054674,1017890037,1002287.604,231844.894956,NYPL,1
</pre>
</div>


  Each function takes as input a row of the table:
  <ul>
    <li> <tt>extractLatLon(row)</tt>:  This function takes the values from the column <tt>the_geom</tt> and extracts the longitude and latitude from the string (they are surrounded by parenthesis and separated by a space, and returns the two as numerical values.  For example, the function would return -73.95353074430393, 40.80297988196676 when applied to the first row of data.
    <li> <tt>extractTitle(row)</tt>:  This function concatenates the values from the columns <tt>NAME</tt>, <tt>CITY</tt>, and <tt>ZIP</tt> code into a single string, separated by a comma and space, and returns the string (to be used as the title for our visualizations).
    For example, when applying this function to the first data row, the return value would be:
    "115th Street, New York, 10026"
  </ul>

  <p>
  Note:  you should submit a file with only the standard comments at the top, and these two functions.  The grading scripts will then import your functions for testing.  A sample test program that assumes your program is called <tt>p16.py</tt>
  and the CSV file is called <tt>LIBRARY.csv</tt> is <a href="test14.py">test14.py</a>.

  </p>





<p><a name="p15"><b>Program 15: Plotting Challenge.</b></b> &emsp; <i>Due noon, Tuesday, 28 September.</i>


  <br>(Learning Objective: to explore and master <tt>matplotlib.pyplot</tt> commands to create data visualizations.)

  <p>
  The goal is to create a plot of <a href="https://data.cityofnewyork.us/Public-Safety/Motor-Vehicle-Collisions-Crashes/h9gi-nx95">NYC OpenData Motor Vehicle Collisions</a> that follows this <a href="https://www.dataquest.io/blog/making-538-plots/">style</a>.  For example, here is the plot for <a href="Motor_Vehicle_Collisions_Mar_2020.csv">January 2020</a> dataset:

  <p>
  <img src="col_Mar2020.png" height=300>

  <p>
  Your program should begin by asking the user for input and output files.  It should be written to take any dataset from the <a href="https://data.cityofnewyork.us/Public-Safety/Motor-Vehicle-Collisions-Crashes/h9gi-nx95">NYC OpenData Motor Vehicle Collisions</a> and produce an image that matches this <a href="https://www.dataquest.io/blog/making-538-plots/">style</a>.  The resulting image should be saved to the output file specified by the user.

  <p><i>Hint:  to transform the data into separate columns (i.e. "unstack"/pivot the groups to be columns) for the daily number of collisions for each borough:</i>
  <pre>
boroDF = df.groupby(['BOROUGH','CRASH DATE']).count()['CRASH TIME'].unstack().transpose()
</pre>
  <i>where <tt>df</tt> is the DataFrame with the collisions dagta</i></p>

</p>
<p><a name="p16"><b>Program 16:   Choropleth Attendance Cleaning.</b></b> &emsp; <i>Due noon, Thursday, 30 September.</i>
<br>(Learning Objective: to gain competency cleaning data using pandas functions.)

<p>In lecture, we wrote a program, <a href="schoolsChoropleth.py">schoolsChoropleth.py</a>, uses the school district files used in <a href="#p10">Programs 10 & 11</a> to make a choropleth map of top English Languange Arts scores, by <a href="https://data.cityofnewyork.us/Education/School-Districts/r8nu-ymqj">district</a>, in New York City:

  <p>
  <iframe src="ela2019choropleth.html" style="width: 60%; height: 550px" name="internal"></iframe>


<p> For this program, write a program that will clean <a href="https://infohub.nyced.org/reports/school-quality/information-and-data-overview/end-of-year-attendance-and-chronic-absenteeism-data">district school attendance data</a> so that we can use the same visualization to see attendance for different districts.

<p>Your stand-alone program should ask the user for the input file name, the output file name, as well as the grade and school year to use as filters.  For example,
a sample run of the program:
<div style="background-color:lightgray;width:100%">
<pre>
Enter input file name: public-district-attendance-results-2014-2019.csv
Enter output file name: attendanceThirdGrade2019.csv
Enter grade: 3
Enter year: 2018-19
</pre>
</div>
If the input file starts as:
<div style="background-color:lightgray;width:100%">
<pre>
District,Grade,Year,Category,# Total Days,# Days Absent,# Days Present,% Attendance,# Contributing 20+ Total Days,# Chronically Absent,% Chronically Absent
1,All Grades,2013-14,All Students,2088851,187879,1900972,91.0,12617,3472,27.5
1,All Grades,2014-15,All Students,2064610,171200,1893410,91.7,12295,3160,25.7
1,All Grades,2015-16,All Students,1995704,169094,1826610,91.5,12137,3206,26.4
1,All Grades,2016-17,All Students,1946012,161756,1784256,91.7,11916,3110,26.1
1,All Grades,2017-18,All Students,1946527,167998,1778529,91.4,11762,3244,27.6
1,All Grades,2018-19,All Students,1925995,175153,1750842,90.9,11593,3364,29.0
</pre>
</div>
then the output file would start:
<div style="background-color:lightgray;width:100%">
<pre>
District,Grade,Year,Category,# Total Days,# Days Absent,# Days Present,% Attendance,# Contributing 20+ Total Days,# Chronically Absent,% Chronically Absent
1,3,2018-19,All Students,149871,10601,139270,92.9,876,228,26.0
2,3,2018-19,All Students,491432,21170,470262,95.7,2844,278,9.8
3,3,2018-19,All Students,254506,15395,239111,94.0,1488,274,18.4
</pre>
</div>

<p><i>Hints:
<ul>
    <li> In the CSV file, <tt>Grade</tt> can contain both numbers and strings.  Since "3" is different from the number 3, you may want to convert to strings before comparison.</li>
    <li> The output CSV should not contain the internal index and should be saved without it.
</ul>
</i>

<!-- Folium tutorial:  https://autogis-site.readthedocs.io/en/latest/notebooks/L5/02_interactive-map-folium.html
Layers on folium:  https://blog.prototypr.io/interactive-maps-with-python-part-1-aa1563dbe5a9
https://automating-gis-processes.github.io/2017/lessons/L5/interactive-map-folium.html
Altair & choropleth:  https://www.districtdatalabs.com/altair-choropleth-viz-->
<p>
</p>


<p><a name="p17"><b>Program 17: Catchment Areas.</b></b> &emsp; <i>Due noon, Friday, 1 October.</i>
  <br>(Learning Objective: to gain deeper understanding of the JSON and GeoJSON formats and their use as "layers" in map visualizations.)

  <p>
  We have used GeoJSON files as layers in our folium maps and created some manually in lecture.  For this program, ask the user for a CSV containing at least 3 sets of GIS coordinates (with columns <tt>Lat</tt> and <tt>Lon</tt>) and the name of the output file.  Your program should create a GeoJSON file that has 3 polygons, one for the first three rows of the CSV file:

<!--
  <p>give sample input
  <p>add in resulting image loaded onto the map

  <p>Pseudocode:
    <ul>
      <li>
    </ul>

  You should assume:
  <ul>
      <li> The three points have coodinates (Lon,Lat) and -180 &lt; lon &lt; 180 and
        -90 &lt; lat &lt; 90 for each point.
  </ul>
-->
    <!-- Fortune's algorithm:  https://en.wikipedia.org/wiki/Fortune%27s_algorithm
    GeoJSON tutorial:  https://developer.here.com/blog/run-circles-around-geojson-beginner-to-advanced-with-here-xyz
    https://developer.here.com/blog/great-guide-to-generating-good-geojson
    Drawing lines in folium:  http://qingkaikong.blogspot.com/2016/06/using-folium-4-draw-lines-plot-san.html
  -->
  </p>



<p><a name="p18"><b>Program 18: Altair Challenge.</b></b> &emsp; <i>Due noon, Monday, 4 October.</i>
  <br>(Learning Objective: gain competency in using the Altair/Vega declarative visualization grammar.)

  <p>
  </p>


  <br>
  <br>
  <br>
  <hr>
  Set 4:  The fourth set of programs introduces modeling and estimation, focusing on loss functions and linear modeling.
  <hr>

<p><a name="p19"><b>Program 19: Modeling Restaurant Tips.</b></b> &emsp; <i>Due noon, Tuesday, 5 October.</i>
  <br>(Learning Objective: .)
  <p>
</p>

<p><a name="p20"><b>Program 20: Taxi Cleaning.</b></b> &emsp; <i>Due noon, Thursday, 7 October.</i>
  <br>(Learning Objective: To build up (or refresh) skills at manipulating tabular data, in particular touse arithmetic operations on columns to create new columns.)

  <p>
    Write a program, tailored to the NYC OpenData Yellow Taxi Trip Data, that asks the user for the name of an input CSV file and the name of an output CSV file.  The program should open the file name provided by the user.</i>  Next, the program should copy the input file and create two new columns:  <tt>percent_tip</tt>, which is <tt>100*tip_amount/fare_amount</tt> and <tt>percent_fare</tt>, which is <tt>100*fare_amount/total_amount</tt>.  Your program should write out a new CSV file (with the name provided by the user) with the original columns as well as the two newly computed ones.

    <p>For example, if the file was the firt of January 2020 entries downloaded from <a href="https://data.cityofnewyork.us/Transportation/2020-For-Hire-Vehicles-Trip-Data/m3yx-mvk4">2020 Yellow Taxi Trip Data</a> (about 170,000 entries) with the first 3 lines of:

    <div style="background-color:lightgray;width:100%">
<pre>
VendorID,tpep_pickup_datetime,tpep_dropoff_datetime,passenger_count,trip_distance,RatecodeID,store_and_fwd_flag,PULocationID,DOLocationID,payment_type,fare_amount,extra,mta_tax,tip_amount,tolls_amount,improvement_surcharge,total_amount,congestion_surcharge
1,01/01/2020 12:00:00 AM,01/01/2020 12:13:03 AM,1,2.2,1,N,68,170,1,10.5,3,0.5,2.85,0,0.3,17.15,2.5
2,01/01/2020 12:00:00 AM,01/01/2020 01:08:55 AM,5,1.43,1,N,48,239,2,6.5,0.5,0.5,0,0,0.3,10.3,2.5
</pre>
    </div>
    Then a sample run of the program:
    <div style="background-color:lightgray;width:100%">
    <pre>
Enter input file name: taxi_new_years_day2020.csv
Enter output file name:  taxi_Jan2020_with_percents.csv</pre>
    </div>

    And the first three lines of <tt>taxi_Jan2020_with_percents.csv</tt> would be:
    <div style="background-color:lightgray;width:100%">
    <pre>
VendorID,tpep_pickup_datetime,tpep_dropoff_datetime,passenger_count,trip_distance,RatecodeID,store_and_fwd_flag,PULocationID,DOLocationID,payment_type,fare_amount,extra,mta_tax,tip_amount,tolls_amount,improvement_surcharge,total_amount,congestion_surcharge,percent_tip,percent_fare
1.0,01/01/2020 12:00:00 AM,01/01/2020 12:13:03 AM,1.0,2.2,1.0,N,68,170,1.0,10.5,3.0,0.5,2.85,0.0,0.3,17.15,2.5,27.1,61.2
2.0,01/01/2020 12:00:00 AM,01/01/2020 01:08:55 AM,5.0,1.43,1.0,N,48,239,2.0,6.5,0.5,0.5,0.0,0.0,0.3,10.3,2.5,0.0,63.1
</pre>
    </div>
    <p> You should round the values stored in your new columns to the nearest tenth and save your CSV file without the indexing (i.e. <tt>index=False</tt>).

  </p>

<p><a name="p21"><b>Program 21: Taxi Models.</b></b> &emsp; <i>Due noon, Friday, 8 October.</i>
    <br>(Learning Objective: .)
    <p>
    </p>

<p><a name="p22"><b>Program 22: Dice Simulator.</b></b> &emsp; <i>Due noon, Thursday, 14 October.</i>
    <br>(Learning Objective: students will be able to apply their knowledge of the built-in random package to generate simulations of simple phenomena.)
    <p>

    Write a function:
    <ul>
        <li> <tt>diceSim(D1,D2,trials)</tt> that takes as input the number of sides on die 1 (D1) and die2 (D2) and the number of trials.  Your function should repeatedly sum pairs of random numbers between 1 and D1 and 1 and D2 and keep track of how many times each sum occurs. The function returns a numpy array with the fraction each sum of rolls occured.
      </ul>

      <p>
      Since the numbers are chosen at random, the fractions will differ some from run to run. One run of the function <tt>print(p22.diceSim(6,6,10000))</tt> resulted in:
      <pre>
[0.     0.     0.0259 0.0615 0.0791 0.1086 0.139  0.1633 0.1385 0.114  0.0833 0.0587 0.0281]</pre>

      or displayed using the code from <a href="http://www.textbook.ds100.org/ch/15/prob_random_vars.html">Section 15.1.1.</a>:
      <p>
      <img src="dice_6_6.png" height=200>
      </p>
      <p>
      Note:  you should submit a file with only the standard comments at the top and the function.  The grading scripts will then import your function for testing.
      </p>


<p><a name="p43"><b>Program 43: Component Retention.</b></b> &emsp; <i>Due noon, Friday, 19 November.</i>
    <br>(Learning Objective: to employ programming skills to evaluate the number of principal components to use in dimensionality reduction.)</p>
    <p>
    In lecture and (also in <a href="http://www.textbook.ds100.org/ch/25/pca_in_practice.html">Chapter 25</a>), we used scree plots to provide a visualization of the captured variance.  This assignment asks you to implement two other popular ways of determining the number of dimensions to retain.

    <ul>
      <li> <code class="inline">captures85(arr):</code> Takes an array <code class="inline">arr</code> (in decreasing order), computes
          the captured variance (<code class="inline">cv = (arr**2)/sum(arr**2)</code>) and returns the number of elements needed to capture more than 85% of the variance.  Using the example from the textbook, if <code class="inline">arr</code> is
          <pre>array([585.57, 261.06, 166.31,  57.14,  48.16,  39.79,  31.71,  28.91,
        24.23,  22.23,  20.51,  18.96,  17.01,  15.73,   7.72,   4.3 ,
         1.95,   0.04])</pre>
          Then <code class="inline">cv</code> would be:
          <pre><code class="datablock">array([0.76, 0.15, 0.06, 0.01, 0.01, 0.  , 0.  , 0.  , 0.  , 0.  , 0.  ,
       0.  , 0.  , 0.  , 0.  , 0.  , 0.  , 0.  ])</code></pre>
          and the function would return 2 since the first coordinate captures 76% of the variance which is less than 85%, the first 2 coordinates capture 76 + 15 = 91% of the variance.
      <li> <code class="inline">averageEigenvalue(arr):</code> Takes an array
        <code class="inline">arr</code> (in decreasing order), computes
          the average (<code class="inline">avg = sum(arr)/len(arr)</code>) and returns the number of elements greater than <code class="inline">avg</code>.  Using the example from the textbook, if <code class="inline">arr</code> is:
          <pre><code class="datablock">array([585.57, 261.06, 166.31,  57.14,  48.16,  39.79,  31.71,  28.91,
        24.23,  22.23,  20.51,  18.96,  17.01,  15.73,   7.72,   4.3 ,
         1.95,   0.04])</code></pre>
          Then <code class="inline">avg</code> would be 75.07,
          and the function would return 3 since the first three coordinates are larger than the average.
    </ul>

    </p>
    <p>
    Note:  you should submit a file with only the standard comments at the top, and these two functions.  The grading scripts will then import your functions for testing.


<p><a name="p44"><b>Program 44: Digits Components.</b></b> &emsp; <i>Due noon, Monday, 22 November.</i>
    <br>(Learning Objective: .)</p>
    <p>
    In lecture, we introduced Principal Components Analysis and the number of components needed to capture the intrinistic dimension of the data set.  For this program, write a function that allows the user to explore how many dimensions are needed to see the underlying structure of images from the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_digits.html">sklearn digits dataset</a>.
    <p>
    <p>
    </p>


<!--





<p><a name="p23"><b>Program 23: .</b></b> &emsp; <i>Due noon, Friday, 15 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p24"><b>Program 24: .</b></b> &emsp; <i>Due noon, Monday, 18 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p25"><b>Program 25: .</b></b> &emsp; <i>Due noon, Tuesday, 19 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p26"><b>Program 26: .</b></b> &emsp; <i>Due noon, Thursday, 21 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p27"><b>Program 27: .</b></b> &emsp; <i>Due noon, Friday, 22 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p28"><b>Program 28: .</b></b> &emsp; <i>Due noon, Monday, 25 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p29"><b>Program 29: .</b></b> &emsp; <i>Due noon, Tuesday, 26 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p30"><b>Program 30: .</b></b> &emsp; <i>Due noon, Thursday, 28 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p31"><b>Program 31: .</b></b> &emsp; <i>Due noon, Friday, 29 October.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p32"><b>Program 32: .</b></b> &emsp; <i>Due noon, Monday, 1 November.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p33"><b>Program 33: .</b></b> &emsp; <i>Due noon, Tuesday, 2 November.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p34"><b>Program 34: .</b></b> &emsp; <i>Due noon, Thursday, 4 November.</i>
  <br>(Learning Objective: .)
  <p>
  </p>

<p><a name="p35"><b>Program 35: .</b></b> &emsp; <i>Due noon, Friday, 5 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p36"><b>Program 36: .</b></b> &emsp; <i>Due noon, Monday, 8 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p37"><b>Program 37: .</b></b> &emsp; <i>Due noon, Tuesday, 9 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p38"><b>Program 38: .</b></b> &emsp; <i>Due noon, Thursday, 11 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p39"><b>Program 39: .</b></b> &emsp; <i>Due noon, Friday, 12 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p40"><b>Program 40: .</b></b> &emsp; <i>Due noon, Monday, 15 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p41"><b>Program 41: .</b></b> &emsp; <i>Due noon, Tuesday, 16 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p42"><b>Program 42: .</b></b> &emsp; <i>Due noon, Thursday, 18 November.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

  <p><a name="p45"><b>Program 45: Mystery Point.</b></b> &emsp; <i>Due noon, Tuesday, 23 November.</i>
      <br>(Learning Objective: .)</p>
      <p>
      </p>



  <p>
  </p>



<p><a name="p46"><b>Program 46: .</b></b> &emsp; <i>Due noon, Monday, 29 November.</i>
  <br>(Learning Objective: .)</p>
    <p>
    </p>

<p><a name="p47"><b>Program 47: .</b></b> &emsp; <i>Due noon, Tuesday, 30 November.</i>
    <br>(Learning Objective: .)</p>
    <p>
    </p>

<p><a name="p48"><b>Program 48: .</b></b> &emsp; <i>Due noon, Thursday, 2 December.</i>
        <br>(Learning Objective: .)</p>
        <p>
        </p>

<p><a name="p49"><b>Program 49: .</b></b> &emsp; <i>Due noon, Friday, 3 December.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>

<p><a name="p50"><b>Program 50: .</b></b> &emsp; <i>Due noon, Monday, 6 December.</i>
  <br>(Learning Objective: .)</p>
  <p>
  </p>
-->

<!--






P5:

<p>Ideas:
<pre>
Add in a data cleaning applying to data frames-- very easy, but make sure all can do this before assuming this is a basic step in larger programs.  Code demo of 9 Sept, so, have 2 programs after that.

Wait on the background for the Obama v. Romney, and instead have a several data cleaning example just using string methods.  One that needs to check for empty entries.  Another that combines multiple columns into a new one.  maybe the 311 or NYPD data (since often missing GIS coordinates).

To lead into lecture #3:  sample vs. census of a large data set-- book uses Obama vs. Romney.  Add in a question about cluster and stratified sampling?  Wait until random packages discussed?  Or just use the basic Python one?

Need several questions on correlation-- maybe set 3 or 4?
From Lehman's DS course:  HW5:  Are collisions correlated with temperature?

A/B Testing-- do as part of quizzes when we do Bayes Theorem


#6: Modify the Naive Bayes spam filter program to reads in the three files generated above as well as a fourth file of test data (use another year's data such as yob2010.txt). Instead of multiplying together word occurrences, your program should multiply use the last letter, second-to-last letter, and third-to-last letter that you computed above. Your program should classify each name in the test data (similar to the Naive Bayes filter from the book) and report back the percentage of names your correctly predicted as well as the names you predicted incorrectly.
Submit your Python program as a .py file.

#7: Submit the output of your file (the percentage you correctly predicted along with the names you predicted incorrectly) as a .txt file.

Covariance:  HW 9:  Analyse the NY Fed's Labor Market Data for Recent Graduates (see link above) using a Principal Components Analysis. There are three parts to this exercise:
Compute and display the covariance matrix for the data,
Generate a 3D plot of the data under the first three axis of a Principal Components Analysis. On this plot, highlight (using a different color) the computer science and mathematics majors, and
Include the Python code that you used to generate your plots.
Make sure to include in the title of your plot the date plotted.

#1: Submit your Python program as a .py file.
#2: Submit a text file or screen shot that includes the covariance matrix.
#3: Submit a screen shot of the graphics window containing the plot.

Using the New York City data for district test scores, shade your map above by percentage of students proficient in mathematics (i.e. scored a 3 or 4 on the exam-- the last column in the CSV file).

#6: Submit your Python program as a .py file.
#7: Submit a screen shot of the graphics window containing the plot.

#6: Using the New York City data for district test scores, compute the covariance matrix for District 1 schools across grades (that is, rows 8 to 28, columns G onward). Which rows are most highly correlated? Submit a typeset or neatly handwritten image of your answer.</i>

#7: Compute the first and second axis of a Principal Components Analysis using the covariance matrix above. Submit a typeset or neatly handwritten image of your answer.</i>

When do mapping, something with litter baskets:  https://data.cityofnewyork.us/dataset/DSNY-Litter-Basket-Map-/d6m8-cwh9

Need some programs on displaying, time-series data, something like the standard stocks example.  Here's bokeh: https://docs.bokeh.org/en/0.10.0/docs/gallery/stocks.html
Find on altair

HW 12:  The file landmarkDistances.txt contains a distance matrix for 10 landmarks in New York City. The file landmarks.txt contains the names of 9 of the landmarks. The last name is "mystery". Use multidimensional scaling to display all 10 points on the screen with landmarks labeled. Using your displayed information, identify the last mystery landmark.
(Based on the inspired homework from dasGupta's machine learning course at UCSD.)

Make sure to include in the title of your plot the date plotted.

#1: Submit your Python program as a .py file.
#2: Submit a screen shot of the graphics window containing the plot.
#3: Does the plot look right? If not, how can you re-orient so that it does? What is the mystery landmark? Include your answer in a .txt or a scan of a neatly handwritten paper.</i>


HW 12:  Using the 311 Pothole data (described above), use logistic regression analysis of time versus status: "Closed" versus "Open" (any non-"Closed" values of the status include in the "Open" category) to create a model that predicts if a pothole has been repaired, given the date reported.
You may want to use the textbook's code (described above)-- if you do, modify to take only 1 input parameter (instead of the 2 it currently takes). This is a very small change (just change the starting beta_0 to match the dimension of the data and be [1,1].)

#4: Submit your Python program as a .py file.
#5: Submit a screen shot of the graphics window containing a plot of the data points (a scatterplot of (date,status) where status is 0 if closed and 1 otherwise) with the logistic curve that you fit to the data.


HW 12:  Using bokeh, display the unemployment data (described above) as a scatter plot of the data with a 6-month running average.
Note: The bokeh part is straightforward (very similar to the stock example-- you need to modify the #prepare some data section (as well as titles and labels)). The work here is setting up your data to be plotted. The dates need to be datetime objects for the stretching and scaling of the x-axis to work.

Make sure to include a title in your plot.

#6: Submit your Python program as a .py file.
#7: Submit a screen shot of your program as an .png or .jpg file. (This homework originally asked for the .html file, but Blackboard is stripping the HTML formatting out of submitted files.)


HW 12:  Modeling question-- not sure when to integrate into topics:
Given the data:
x	0	1	2	4	5	7	8	9	12	15
y	0	0	0	1	1	0	1	0	1	1

and two possible logistic functions:

f(x) = 1/(1 +e^{-(6+.75x)})
g(x) = 1/(1 +e^{-(-8+x)})
#6: Which function predicts more of the data correctly? That is, out of the 10 input values, how many values were predicted to be 1 with greater than 50% probability were actually 1 (true positives), were actually 0 (false positives); how many values were predicted to be 0 with greater than 50% probability were actually 0 (true negatives), were actually 1 (false negatives)?

Submit a typeset or neatly handwritten answer.</i>


#7: Use the book's logistic regression code to fit a logistic function to the data above.
Note: The book's code assumes that 3 dimensional data while we have only 2 dimensions. The code is well-written and can be easily modified to handle only 2 dimensions by entering 2 dimensional data for data and modifying the starting value of beta_0 to be the [1,1].

Submit a screenshot of a graph with the true points, your predicted curve (i.e. the logistic function with your computed beta_hat, and the f and g functions above. Include a legend or labels for your curves.

</pre>


<p><i>Extras:</i>  These problems are not submitted or graded, but are suggestions for those who would like more Python experience or more practice on the concepts of the section.  These problems also have possible tools for the course project and practice for quizzes and the final exam.

<ul>
  <li>List Comprehensions:</li>
  <li>Functions & Pandas: Using apply(), manipulating DataFrames  </li>
  <li>Matplotlib Basics:</li>
  <li>Seaborn:</li>
  <li>String Methods:</li>
  <li>Loss Functions:</li>
  <li>Lambda Functions:</li>
  <li>Unpacking Argument Lists & Keywords:</li>
</ul>






Include in each data set a prediction question (building on tools known at the time)-- focus on NYC data, leading up to more open-ended (aka Kaggle-style) one in November/December

Submit a .txt file that contains the standard heading information from above and the last line of the file contains the login name of the github account you plan to use this term.

-->

  <p>
    <i>More to come...</i>

<hr>
<a name="project">
<h2>Project</h2>
</a>

<p>
  <i>More to come...</i>

<!--
<p><a name="proj1"><b>Milestone 1: .</b></b> &emsp; <i>Due ??.
<p><a name="proj2"><b>Milestone 2: .</b></b> &emsp; <i>Due ??.


<h3>Milestones</h3>

The project is broken down into smaller pieces that must be submitted by the deadlines below.  For details of each milestone, see the links.  The project is worth 20% of the final grade.  The point breakdown is listed in the right hand column.

<p>
<table class="handouts" border="1">
<tr>
	<th>Deadline:</th><th>Deliverables:</th><th>Points:</th>
</tr>
<tr>
	<td>Saturday, 2 April, noon</td><td><a href="#proposal">Title & Proposal</a></td><td>20</td>
</tr>
<tr>
	<td>Saturday, 2 April, noon</td><td><a href="#peerReview">Peer Review #1</a></td><td>10</td>
</tr>
<tr>
	<td>Saturday, 16 April, noon</td><td><a href="#timeline">Timeline</a></td><td>10</td>
</tr>
<tr>
	<td>Saturday, 23 April, noon</td><td><a href="#timeline">Data Collection</a></td><td>20</td>
</tr>
<tr>
	<td>Wednesday, 4 May, noon</td><td><a href="#timeline">Analysis</a></td><td>30</td>
</tr>
<tr>
	<td>Saturday, 7 May, noon</td><td><a href="#timeline">Visualization</a></td><td>20</td>
</tr>

<tr>
	<td>Saturday, 7 May, noon</td><td><a href="#slides">Draft Presentation Slides</a></td><td>20</td>
</tr>
<tr>
	<td>Saturday, 2 April, noon</td><td><a href="#peerReview">Peer Review #2</a></td><td>10</td>
</tr>
<tr>
	<td>Saturday, 14 May, noon</td><td><a href="#complete">Complete Project Website</a></td><td>50</td>
</tr>
<tr>
	<td>Monday, 16 May, 9am</td><td><a href="#abstract">Abstract</a></td><td>10</td>
</tr>



<tr>
	<td>Tuesday, 17 May, in class</td><td><a href="#presentation">Project Video</a></td><td>50</td>
</tr>
<tr>
	<th colspan=2>Total Points:</th><td>250</td>
</tr>


</table>


<h3>Proposal</h3>
<a name="proposal"></a>

A short statement that includes:
<ul>
	<li> Proposed topics or questions you would like to address,
	<li> Why you are interested in this topic (in your own words-- copying someone else's words is plagiarism),
	<li> What data sets you plan to use (must use at least 2 distinct data sets per team member in meaningful ways in your project), and
	<li> What techniques and tools you are thinking about using.
</ul>


<h3>Timeline</h3>
<a name="timeline"></a>

<p>
Your plan of attack to complete this project on time, including what you will have completed by the check-ins for Data Collection, Analysis, and Visualization.  You should view the timeline as a contract with specifics of what the "deliverables" are at each milestone.

<p>
<ul>
</ul>



<div>
<h3>Presentation Slides</h3>
<a name="slides"></a>

REWRITE-- need 30 second preview (recorded) + grading rubric of others?  Maybe have feed back from other students earlier in the process?


The presentation .  The first part consists of a "sneak preview" of your project where your group speaks for 90 seconds about what they did.  After every group has given their sneak preview, each group will display their project on a lab computer (see below for more details).

<p>
For the sneak preview, every group submits 2 slides with
<ul>
	<li> Slide 1: the front image and title from website, as well as the names of group members
	<li> Slide 2:  discoveries & conclusions (with images)
</ul>
</div>

<div>
<h3>Data Collection</h3>
<a name="slides"></a>

<p>
For the data collection milestone, you must submit:
<ul>
	<li> a list (with links) of all data sources used,
	<li> for each data source:
		<ul>
			<li> a description of what and why you are using that source,
			<li> how you extracted the data from the source (i.e. detail how you downloaded/scraped the data as well as the file processing needed), and
			<li> any issues you had or forsee with the analysis of the data.
		</ul>
</ul>


</div>

<div>
<h3>Analysis</h3>
<a name="slides"></a>

<p>
For the analysis milestone, you must submit:
<ul>
	<li> the results of the initial analysis for each data set, and
	<li> details of at least one data set per group member (that is, each group member submits the details of a different data set used).
</ul>

</div>

<div>
<h3>Visualization</h3>
<a name="slides"></a>

<p>
For the visualization milestone, you must submit:
<ul>
	<li> draft images that you plan to use in your project presentation, and
	<li> detailed description of the creation of at least one image per group member (that is, each group member submits the details of a different image from the project).
</ul>

</div>

<div>
<h3>Complete Project</h3>
<a name="complete"></a>

<p> The project must be submitted as a webpage (use google sites or other pre-built if you're not comfortable writing html).  The project website must include:
<ul>
	<li> a front image and title that summarizes your project,
	<li> an overview paragraph on what you did:  what was your underlying hypothesis?  what data, methods, and tools did you use to test and explore it?
	<li> links to your github repository with your code for the project,
	<li> a team section describing how each person contributed to the project,
	<li> a data section with a paragraph detailing each data set,
	<li> a techniques section with a paragraph detailing,
	the process and tools you usedeach technique use,
	<li> a citations section with links to all data sources, code sources, publications used.
</li>
</div>


<div>
<h3>Project Presentations</h3>
<a name="presentation"></a>

<p>
The project presentations are on the last day of class and consist of two parts:
<ul>
	<li> 90 second sneak preview of your project (slide requirements described above), and
	<li> interactive demo (on lab computers) where each group member explains the overall process of creating the project as well as their individual contributions.

</div>

<div>
<h3>Grading</h3>


<p>
Half of the points are awarded for the work-in-process milestones during the semester, and half are awarded for the final project and presentation.

<h3>Examples</h3>

<p>
This course has not been taught at Lehman College before, so, no previous student projects exist.  Below is a sampled list of stellar student projects from other data science programs:
<ul>
	<li> <a href="http://cs109hubway.github.io/classp/">Predicting Hubway (Boston's Citibike) Station Status</a>:  a group project from Harvard's data science class.  Includes excellent presentation of the motivation as well as data visualizations.
	<li> <a href="http://www.michaelhintze.com/tv-series/">Longest Running TV Series</a>:  a class project by Lehman alum, Michael Hintze, for one of his masters courses at <a href="http://www.ischool.berkeley.edu/courses/i247">UC Berkeley School of Information</a>.
	<li> <a href="http://isoscope.martinvonlupin.de">Isoscope</a>:  a group project comparing modes of transportation for the masters degree program at the <a href="http://idl.fh-potsdam.de">University of Applied Sciences, Potsdam, Germany</a>.

</ul>
-->

</div>
</body>
</html>
